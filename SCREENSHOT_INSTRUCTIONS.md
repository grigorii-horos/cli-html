# üì∏ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤

## ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ termshot

**Termshot —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π TTY** –∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤:
- CI/CD –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö (GitHub Actions, GitLab CI)
- –ù–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö
- –ù–µ–∫–æ—Ç–æ—Ä—ã—Ö IDE –∏ CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–í–º–µ—Å—Ç–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –≤—ã–≤–æ–¥–æ–≤**:

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –≤—ã–≤–æ–¥–æ–≤

```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤—ã–≤–æ–¥—ã
node scripts/generate-outputs.js

# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Ñ–∏–ª—å—Ç—Ä–æ–º
node scripts/generate-outputs.js --filter "code"

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
node scripts/generate-outputs.js --force
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ–∑–¥–∞–µ—Ç `.txt` —Ñ–∞–π–ª—ã –≤ `examples/html/tags-custom/outputs/`
- –°–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–µ–¥ –≤—ã–≤–æ–¥ —Å ANSI —Ü–≤–µ—Ç–∞–º–∏
- –†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ (CI/CD, –ª–æ–∫–∞–ª—å–Ω–æ, IDE)
- –ë—ã—Å—Ç—Ä–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (—Å —Ü–≤–µ—Ç–∞–º–∏)
cat examples/html/tags-custom/outputs/code.txt

# –ü—Ä–æ—Å–º–æ—Ç—Ä –±–µ–∑ ANSI –∫–æ–¥–æ–≤
cat examples/html/tags-custom/outputs/code.txt | sed 's/\x1b\[[0-9;]*m//g'

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
ls -lh examples/html/tags-custom/outputs/
```

---

## üñºÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ termshot –≤—Ä—É—á–Ω—É—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —É –≤–∞—Å **–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª**, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å termshot:

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
1. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π TTY (–Ω–∞—Å—Ç–æ—è—â–∏–π —Ç–µ—Ä–º–∏–Ω–∞–ª)
2. termshot —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `cargo install termshot`

### –†—É—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–∞

```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
termshot -f output.png -C 100 -- node bin/html.js examples/html/tags-custom/code.html

# –ë–µ–∑ –¥–µ–∫–æ—Ä–∞—Ü–∏–π –æ–∫–Ω–∞
termshot -f output.png -C 100 --no-decoration -- node bin/html.js examples/html/tags-custom/code.html

# –° –∫–æ–º–∞–Ω–¥–æ–π –≤ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ
termshot -f output.png -C 100 -c -- node bin/html.js examples/html/tags-custom/code.html
```

### –ü–æ—á–µ–º—É —Å–∫—Ä–∏–ø—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç?

–°–∫—Ä–∏–ø—Ç—ã `generate-screenshots.sh` –∏ `generate-screenshots.js` –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è termshot,
–Ω–æ **–Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö** –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π termshot:

```
Error: failed to get size: inappropriate ioctl for device
```

–≠—Ç–æ **–Ω–æ—Ä–º–∞–ª—å–Ω–æ** –∏ **–æ–∂–∏–¥–∞–µ–º–æ**. Termshot —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤

### 1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –≤—ã–≤–æ–¥—ã** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
node scripts/generate-outputs.js
```

### 2. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ HTML**
–ú–æ–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å ANSI –≤ HTML:

```bash
npm install -g ansi-to-html

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–≤–æ–¥ –≤ HTML
cat examples/html/tags-custom/outputs/code.txt | ansi-to-html > code.html

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open code.html
```

### 3. **–°–∫—Ä–∏–Ω—à–æ—Ç—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –≤—Ä—É—á–Ω—É—é**
- –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `node bin/html.js examples/html/tags-custom/code.html`
- –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç (‚åò+Shift+4 –Ω–∞ Mac, PrintScreen –Ω–∞ Linux/Windows)

### 4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ headless browser**
–ï—Å–ª–∏ –Ω—É–∂–Ω—ã PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```javascript
// screenshot-with-puppeteer.js
import puppeteer from 'puppeteer';

const browser = await puppeteer.launch();
const page = await browser.newPage();

// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
await page.setContent(`
  <pre style="background: #000; color: #fff; padding: 20px;">
    ${ansiToHtml(terminalOutput)}
  </pre>
`);

// –°–∫—Ä–∏–Ω—à–æ—Ç
await page.screenshot({ path: 'output.png' });
await browser.close();
```

---

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –í—Å—Ç–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤—ã–≤–æ–¥–∞ –≤ Markdown

```markdown
\`\`\`ansi
[–≤–∫–ª—é—á–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ .txt —Ñ–∞–π–ª–∞]
\`\`\`
```

–ú–Ω–æ–≥–∏–µ Markdown —Ä–µ–Ω–¥–µ—Ä–µ—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç ANSI –∫–æ–¥—ã:
- GitHub (—á–∞—Å—Ç–∏—á–Ω–æ)
- GitLab (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
- VS Code preview
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã

### –ü—Ä–∏–º–µ—Ä –≤ README

\`\`\`bash
$ node bin/html.js examples/html/tags-custom/code.html
[–≤—Å—Ç–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–µ 20 —Å—Ç—Ä–æ–∫ –∏–∑ code.txt]
\`\`\`

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow

1. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:**
   ```bash
   # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
   node bin/html.js examples/html/tags-custom/code.html
   ```

2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—ã–≤–æ–¥–æ–≤:**
   ```bash
   # –°–æ–∑–¥–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
   node scripts/generate-outputs.js
   ```

3. **–ö–æ–º–º–∏—Ç:**
   ```bash
   git add examples/html/tags-custom/outputs/*.txt
   git commit -m "Update example outputs"
   ```

4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
   - –í–∫–ª—é—á–∏—Ç—å –≤—ã–≤–æ–¥—ã –≤ README.md
   - –ò–ª–∏ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ .txt —Ñ–∞–π–ª—ã
   - –ò–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –≤ –±–ª–æ–∫–∞—Ö –∫–æ–¥–∞

---

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "inappropriate ioctl for device"
‚úÖ **–ù–æ—Ä–º–∞–ª—å–Ω–æ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `generate-outputs.js` –≤–º–µ—Å—Ç–æ `generate-screenshots.js`

### "termshot: command not found"
```bash
cargo install termshot
```

### "No TTY available"
‚úÖ **–û–∂–∏–¥–∞–µ–º–æ** - termshot –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ TTY

### –•–æ—á—É PNG —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ –º–µ—Ç–æ–¥–æ–≤:
1. –†—É—á–Ω—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
2. Puppeteer + ansi-to-html
3. –î—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: `carbon-now-cli`, `termtosvg`

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥ | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è | CI/CD | –ö–∞—á–µ—Å—Ç–≤–æ | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|-------|--------------|-------|----------|-----------|
| **generate-outputs.js** | ‚úÖ | ‚úÖ | –û—Ç–ª–∏—á–Ω–æ | –ü—Ä–æ—Å—Ç–∞—è |
| termshot (manual) | ‚ùå | ‚ùå | –û—Ç–ª–∏—á–Ω–æ | –ü—Ä–æ—Å—Ç–∞—è |
| Puppeteer + HTML | ‚úÖ | ‚úÖ | –•–æ—Ä–æ—à–æ | –°—Ä–µ–¥–Ω—è—è |
| –†—É—á–Ω—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã | ‚ùå | ‚ùå | –û—Ç–ª–∏—á–Ω–æ | –ü—Ä–æ—Å—Ç–∞—è |
| termtosvg | ‚úÖ | ‚ö†Ô∏è | –•–æ—Ä–æ—à–æ | –°—Ä–µ–¥–Ω—è—è |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `generate-outputs.js` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤—ã–≤–æ–¥—ã
node scripts/generate-outputs.js

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—ã–≤–æ–¥ —Å —Ü–≤–µ—Ç–∞–º–∏
cat examples/html/tags-custom/outputs/code.txt

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–µ–∑ —Ü–≤–µ—Ç–æ–≤
cat examples/html/tags-custom/outputs/code.txt | sed 's/\x1b\[[0-9;]*m//g'

# –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
ls examples/html/tags-custom/outputs/*.txt | wc -l

# –ù–∞–π—Ç–∏ —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª
ls -lhS examples/html/tags-custom/outputs/*.txt | head -5

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –≤—ã–≤–æ–¥—ã
rm -rf examples/html/tags-custom/outputs/*.txt
```

---

**–ò—Ç–æ–≥:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `generate-outputs.js` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—ã–≤–æ–¥–æ–≤! üöÄ
